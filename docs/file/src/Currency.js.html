<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">src/Currency.js | wealth</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="A full-featured money library"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="wealth"><meta property="twitter:description" content="A full-featured money library"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/amirmohsen/wealth"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Currency.js~Currency.html">Currency</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Money.js~Money.html">Money</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/Currency.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import CurrencyFormatter from &apos;currency-formatter&apos;;

/**
 * @example
 * let currency = new Currency(&apos;USD&apos;);
 */
export default class Currency {

	/**
	 * @param {string|Currency} currency - Currency string code or instance of Currency
	 */
	constructor(currency) {
		/**
		 * @type {object} - an object holding currency details such as decimal digits, etc.
		 * @private
		 */
		this._currencySettings = CurrencyFormatter.findCurrency(this._preProcess(currency));
	}

	/**
	 * Get currency settings
	 * @returns {Object} - Currency settings
	 */
	getSettings() {
		return this._currencySettings;
	}

	/**
	 * Get currency code
	 * @returns {string} - Currency code
	 */
	toString() {
		return this.getCode();
	}

	/**
	 * Get currency code
	 * @returns {string} - Currency code
	 */
	toJSON() {
		return this.getCode();
	}

	/**
	 * Clone the currency instance
	 * @returns {Currency} - new Currency instance
	 */
	clone() {
		return new this.constructor(this.getCode());
	}

	/**
	 * Get currency code
	 * @returns {string} - Currency code
	 */
	getCode() {
		return this._currencySettings.code;
	}

	/**
	 * Get currency symbol
	 * @returns {string} - Currency symbol
	 */
	getSymbol() {
		return this._currencySettings.symbol;
	}

	/**
	 * Get currency thousands separator
	 * @returns {string} - Currency thousands separator
	 */
	getThousandsSeparator() {
		return this._currencySettings.thousandsSeparator;
	}

	/**
	 * Get currency decimal separator
	 * @returns {string} - Currency decimal separator
	 */
	getDecimalSeparator() {
		return this._currencySettings.decimalSeparator;
	}

	/**
	 * Does the currency symbol go to the left of the value?
	 * @returns {boolean} - True if currency symbol goes to the left of the value.
	 */
	getSymbolOnLeft() {
		return this._currencySettings.symbolOnLeft;
	}

	/**
	 * Is there a space between amount and symbol of the currency?
	 * @returns {boolean} - True if there&apos;s a symbol between amount and symbol of the currency.
	 */
	getSpaceBetweenAmountAndSymbol() {
		return this._currencySettings.spaceBetweenAmountAndSymbol;
	}

	/**
	 * Get the number of decimal digits for this currency
	 * @returns {number} - Number of decimal digits
	 */
	getDecimalDigits() {
		return this._currencySettings.decimalDigits;
	}

	/**
	 * Format a monetary value
	 * @param {string|number} value - Monetary value to be formatted
	 * @returns {string} - Formatted string of the value
	 */
	format(value) {
		return CurrencyFormatter.format(value, {
			code: this._currencySettings.code
		});
	}

	/**
	 * Unformat a monetary value from a formatted value (same as `parse`)
	 * @param {string} value - Formatted value to be parsed into a monetary value
	 * @returns {string} - Parsed monetary value
	 */
	unformat(value) {
		return this.parse(value);
	}

	/**
	 * Parse a monetary value from a formatted value (same as `unformat`)
	 * @param {string} value - Formatted value to be parsed into a monetary value
	 * @returns {string} - Parsed monetary value
	 */
	parse(value) {
		return CurrencyFormatter.unformat(value, {
			code: this._currencySettings.code
		}).toString();
	}

	/**
	 * Used by the constructor to pre-process the input
	 * @param {string|Currency} currency - Currency code or instance of Currency
	 * @returns {string} - Currency code
	 */
	_preProcess(currency) {
		if(currency instanceof Currency) {
			return currency.getCode();
		}
		return currency;
	}

	/**
	 * Get currency settings for the specified currency
	 * @param {string} code - Currency code
	 * @return {object} - Currency settings
	 */
	static getCurrencySettings(code) {
		return CurrencyFormatter.findCurrency(code);
	}

	/**
	 * Get an array of currency settings for all currencies
	 * @return {object[]} - Settings for all currencies
	 */
	static getAllCurrenciesSettings() {
		return CurrencyFormatter.currencies;
	}
}</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.4)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
